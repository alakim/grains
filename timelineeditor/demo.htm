<!DOCTYPE html>
<html>
<head>
	<title>Timeline Editor Demo Page</title>
	<meta charset="utf-8"/>
	<script type="text/javascript" src="lib/html.js"></script>
	<script type="text/javascript" src="lib/jdb.js"></script>
	<script type="text/javascript" src="lib/jquery-1.11.0.min.js"></script>
	<script type="text/javascript" src="lib/raphael-min.js"></script>
	<script type="text/javascript" src="timelineeditor.js"></script>
	<script type="text/javascript">
		var px = Html.unit("px");
		Html.writeStylesheet({
			body:{
				"font-family":"Verdana, Arial, Sans-Serif",
				"font-size":px(14),
				" #tledit":{
					margin:px(10, 25),
					border:"1px solid #ccc",
					padding:px(5),
					width:px(800)
					// height:px(300)
				},
				" #result":{
					width:px(800),
					height:px(300)
				}
			}
		});
		
		var sampleTimeline = [
			{type:"point", time:2, duration:10, name:"Объект 1", y:10},
			{type:"point", time:5, duration:3, name:"Объект 2", y:25},
			{type:"point", time:12, duration:10, name:"Объект 3", y:40}
		];
		
		$(function(){
			TimelineEditor.init($("#tledit"), sampleTimeline);
			$(".btAddObject").click(function(){
				TimelineEditor.addObject();
			});
			$(".btHarvest").click(function(){
				var res = TimelineEditor.harvest();
				console.log(res);
				$("#result").val(JSON.stringify(res));
			});
		});
	</script>



</head>
<body>
	<h1>Timeline Editor Demo Page</h1>
	<p>Пример реализации редактора таймлайнов</p>
	<div>
		<input type="button" class="btAddObject" value="Добавить объект"/> 
		<input type="button" class="btHarvest" value="Показать результат"/>
	</div>
	<div id="tledit"></div>
	<textarea id="result"></textarea>
</body>
</html>