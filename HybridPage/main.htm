<html>
<head>
	<script type="text/javascript" src="lib/jquery-1.7.1.min.js"></script>
	<script type="text/javascript" src="lib/html.js"></script>
	<script type="text/javascript" src="hybridPage.js"></script>
	<script type="text/javascript" src="mock-asp.js"></script>
	<script type="text/javascript">
		HybridPage.set({
			getPageID: function(ref){
				return ref.match(/\.htm\?p\=(\d+)/i)[1];
			},
			getPageLink: function(pgID){
				return "mock_asp.htm?p="+pgID;
			},
			ws:{
				getData:function(pgID, onsuccess){
					var data = MockAsp.getPageContent(pgID);
					setTimeout(function(){
						onsuccess(data);
					}, 300);
				}
			}
		});
	</script>
</head>
<body>
	<table border="0" width="100%">
		<tr>
			<td colspan="2">
				<h1 id="header">Main Page</h1>
				<div id="pageLink"></div>
			</td>
		</tr>
		<tr>
			<td>
				<div id="menu"><a name="top"></a>
					<ul>
						<li><a href="main.htm">На главную</a></li>
						<li><a href="mock_asp.htm?p=1">page 1</a></li>
						<li><a href="mock_asp.htm?p=2">page 2</a></li>
						<li><a href="mock_asp.htm?p=3">page 3</a></li>
						<li><a href="mock_asp.htm?p=4">page 4</a></li>
					</ul>
				</div>
			</td>
			<td>
				<div id="pageContent"></div>
			</td>
		</tr>
	</table>
	<div id="manual">
		<h2>Краткое руководство по модулю HybridPage</h2>
		<p>Модуль HybridPage предназначен для создания гибридных веб-форм, формируемых как полностью серверными средствами, так и через Ajax.</p>
		<p>Модуль автоматически распознает тип клиента веб-сайта. Если это веб-браузер со включенным javascript, то происходит автоматическое переключение в режим Ajax, в противном случае (например, если клиент сайта - веб-поисковик), страницы сайта полностью формируются в статическом режиме. Таким образом достигается возможность существенного улучшения удобства использования сайта при сохранении доступности сайта для индексирования, а также для просмотра устаревшими браузерами, или браузерами с ограниченными возможностями.</p>
		<p>Если после загрузки страницы модуль распознает движение мыши, все гиперссылки страницы (за исключением ссылок, классифицируемых как статические) переключаются в Ajax-режим. При переходе по таким ссылкам не происходит перезагрузка страницы, а вызываются заданные скрипты для обмена данными по технологии Ajax. При этом идентификатор состояния страницы добавляется к URL после знака '#'.</p>
		<p>Пользователь может сохранить URL страницы с идентификатором текущего состояния (после знака '#'), и использовать его для формирования прямой гиперссылки. При переходе по такой гиперссылке, на базе идентификатора текущего состояния будет сформирован статический URL, при переходе по которому веб-сервер сформирует статическую страницу, соответствующую данному состоянию.</p>
	</div>
</body>
</html>